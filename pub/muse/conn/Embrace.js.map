{
  "version": 3,
  "file": "Embrace.js",
  "sourceRoot": "../../../src/muse/conn",
  "sources": [
    "Embrace.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport {vis} from \"../../../lib/pub/draw/Vis.js\"\n\nclass Embrace\n\n  constructor:( @spec, @shapes, @build ) ->\n    @studies = @shapes.arrange( @spec )         \n    @innovs  = @build.adjacentStudies( @spec, 'east' )\n\n  drawSvg:( g, size, defs ) =>\n    lay  = @shapes.layout( size, @spec.column, @shapes.size(@studies), @shapes.size(@innovs) )\n    fill = @shapes.toFill(@spec,true)\n    @shapes.keyHole( g, lay.xc, lay.yc, lay.xk, lay.yk, lay.ro, lay.hk, fill, lay.stroke )\n    yl = lay.yl\n    a1 = lay.a1\n    xr = lay.xr + lay.wr\n    yr = lay.yr\n    for own key, study of @studies\n      fill = @shapes.toFill(study)\n      wedgeId = @shapes.htmlId( study.name, 'Wedge' )\n      @shapes.wedge( g, lay.ro, lay.rs, a1, a1-lay.da, lay.xc, lay.yc, fill, study.name, wedgeId, size.dispSize, size.level )\n      for a in [a1-lay.li...a1-lay.da] by -lay.ds\n        @shapes.link( g, a, lay.ro, lay.ri, lay.xc, lay.yc, lay.xc, yl, xr, yl, fill, lay.thick )\n        yl += lay.dl\n      a1 -= lay.da\n      yr += lay.hr\n    x  = lay.xr+lay.wr\n    y  = lay.yr\n    w  = lay.w  - x\n    h  = lay.ri\n    xt = x +  w  * 0.5\n    yt = size.yc * 0.5 + size.bannDy\n    yi = size.yc       + size.iconDy\n    # console.log( 'Embrace.drawSvg()', @level, yt, yi )\n    @shapes.conveySankey( \"Embrace\", defs, g, @studies, @innovs, x, y, w, h  )\n    @shapes.icon( g, size.xc, yi, @spec.name, @shapes.htmlId(@spec.name,'IconSvg'), 'black', size.iconSize, vis.unicode(@spec.icon) )\n    @shapes.text( g, xt,      yt, @spec.name, @shapes.htmlId(@spec.name,'TextSvg'), 'black', size.bannSize)\n    @shapes.practiceFlow( g, size, @spec )\n    return\n\n  # Not called but matches innovation\n  innovateStudies:( g, size ) ->\n    r0   = size.xc/2 - 36\n    w    = 24\n    h    = r0 / @shapes.size(@innovs)\n    x0   = size.w  - w\n    y0   = size.yc - r0/2\n    for own key, innov of @innovs\n      fill = @shapes.toFill(innov)\n      @shapes.rect( g, x0, y0, w, h, fill, 'none' )\n      y0 += h\n    return\n\nexport default Embrace\n\n\n"
  ]
}