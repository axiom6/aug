{
  "version": 3,
  "file": "CubeTh.js",
  "sourceRoot": "../../../src/augm/cube",
  "sources": [
    "CubeTh.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import Vis           from '../../../lib/pub/draw/Vis.js'\nimport Access        from '../../../lib/pub/util/Access.js'\nimport Build         from '../../../lib/pub/util/Build.js'\nimport Cube3D        from './Cube3D.js'\nimport Rect          from './Rect.js'\nimport * as THREE    from 'three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n\nclass CubeTh\n\n  @load:() ->\n    Access.local   = \"http://localhost:63342/aug/app/data/\"\n    Access.hosted  = \"https://ui-48413.firebaseapp.com/\"\n    CubeTh.FontUrl = \"../../css/font/helvetiker_regular.typeface.json\"\n    CubeTh.Batch =\n      Info: { url:'muse/Info.json', data:null, type:'Pack' }\n      Know: { url:'muse/Know.json', data:null, type:'Pack' }\n      Wise: { url:'muse/Wise.json', data:null, type:'Pack' }\n      Font: { url:CubeTh.FontUrl,   data:null, type:'Spec' }\n\n    Access.batchRead( CubeTh.Batch, CubeTh.init )\n    return\n\n  @init:( batch ) ->\n    Vis.ready ->\n      build = new Build( batch )\n      th    = new CubeTh( build, 'CubeTh', false )\n      th.animate()\n      return\n\n  constructor:( @build, @parId, @guiFlag ) ->\n\n    # console.trace()\n    @stream  = null # Set by subscribe()\n    @parElem = document.getElementById(@parId)\n    [@ikwElem,@guiElem] = @createElems( @parElem, @guiFlag )\n\n    @scene    = new THREE.Scene()\n    @renderer = new THREE.WebGLRenderer( { antialias:true } )\n    @ikwElem.appendChild( @renderer.domElement )\n    [@screenWidth,@screenHeight,@aspectRatio] = @resizeScreen() # Accesses @ikwElem\n    @renderer.setSize( @screenWidth, @screenHeight )\n    @renderer.setClearColor( 0x000000, 1) # 0x333F47, 1\n    @renderer.shadowMap.enabled = true\n    @renderer.shadowMapSoft = true\n\n    @camera = new THREE.PerspectiveCamera( 45, @aspectRatio, 1, 10000 )\n    @camera.position.set( 0, 6, 1500 )\n    @camera.lookAt( @scene.position )\n    @scene.add(@camera)\n\n    @axes = new THREE.AxesHelper( 2 )\n    @scene.add( @axes )\n\n    @fontPrac = new THREE.Font( @build.batch.Font.data )\n\n    @group = @ikw()\n    @lights()\n    [@gui,@act] = @ui( @group, @guiElem ) if @guiFlag\n\n    @controls = new OrbitControls( @camera, @renderer.domElement )\n    window.addEventListener( 'resize', @resizeScreen, false )\n\n  subscribe:( stream ) ->\n    @stream     = stream\n    @act        = @createAct( @group )\n    @traversals = @createTraversals( @act )\n    @stream.subscribe( 'Select', 'Cube', (topic) => @onSelect(topic) )\n    return\n\n  onSelect:( topic ) =>\n    # console.log( 'CubeTh.onCube()', name )\n    switch   topic.name\n      when 'Cube'         then Vis.noop()\n      when 'Planes'       then Vis.noop()\n      when 'Information'  then @traversals.info()\n      when 'Knowledge'    then @traversals.know()\n      when 'Wisdom'       then @traversals.wise()\n      when 'Dimensions'   then Vis.noop()\n      when 'Embrace'      then @traversals.embrace()\n      when 'Innovate'     then @traversals.innovate()\n      when 'Encourage'    then @traversals.encourage()\n      when 'Perspectives' then Vis.noop()\n      when 'Learn'        then @traversals.learn()\n      when 'Do'           then @traversals.doDo()\n      when 'Share'        then @traversals.share()\n      else console.error( 'CubeTh.onSelect()', topic )\n    return\n\n  deg2rad:( degree ) ->\n   degree*(Math.PI/180)\n\n  resizeScreen:() =>\n    @screenWidth  = @ikwElem.clientWidth   # window.innerWidth\n    @screenHeight = @ikwElem.clientHeight  # window.innerHeight\n    @aspectRatio  = @screenWidth  / @screenHeight\n    if @camera? and @renderer?\n       @camera.aspect = @aspectRatio\n       @camera.updateProjectionMatrix();\n       @renderer.setSize( @screenWidth, @screenHeight )\n    #console.log( \"resizeScreen\", { width:@screenWidth, height:@screenHeight } )\n    [@screenWidth,@screenHeight,@aspectRatio]\n\n  space:() ->\n    sp = {}\n    sp.modelRatio    =  @aspectRatio / 2\n    sp.cubeSize      =  144\n    sp.cubeWidth     =  sp.cubeSize * 2.0\n    sp.cubeHeight    =  sp.cubeSize * sp.modelRatio * 0.8\n    sp.colsHeight    =  sp.cubeSize * sp.modelRatio * 0.5\n\n    sp.cubeDepth     =  sp.cubeSize\n    sp.cubeHalf      =  sp.cubeSize   / 2\n    sp.horzSpace     =  sp.cubeSize   * 2 / 3\n    sp.vertSpace     =  sp.horzSpace  * sp.modelRatio\n    sp.zzzzSpace     =  sp.horzSpace\n    sp.colsDepth     =  sp.cubeSize * 3 + sp.zzzzSpace * 2\n    sp.x1            =  sp.cubeWidth  + sp.horzSpace\n    sp.x2            =  0\n    sp.x3            = -sp.cubeWidth  - sp.horzSpace\n    sp.yc            =  sp.cubeHeight + sp.vertSpace * 2.2\n    sp.y1            =  sp.cubeHeight + sp.vertSpace\n    sp.y2            =     0\n    sp.y3            = -sp.cubeHeight - sp.vertSpace\n    sp.z1            =  sp.cubeDepth  + sp.zzzzSpace\n    sp.z2            =  0\n    sp.z3            = -sp.cubeDepth  - sp.zzzzSpace\n    sp.zc            =  0\n    sp.studyWidth    =  sp.cubeWidth  / 3\n    sp.studyHeight   =  sp.cubeHeight / 3\n    sp.sw            =  sp.studyWidth\n    sp.sh            =  sp.studyHeight\n    sp.cw            =  sp.studyWidth\n    sp.ch            =  sp.studyHeight * 0.5\n    sp.sx            = { center:0, west:-sp.sw, north:0,         east:sp.sw, south:0          }\n    sp.sy            = { center:0, west:0,      north:sp.sh,     east:0,     south:-sp.sh     }\n    sp.cx            = { center:0, west:-sp.sw, north:0,         east:sp.sw, south:0          }\n    sp.cy            = { center:0, west:0,      north:sp.sh*0.5, east:0,     south:-sp.sh*0.5 }\n    sp\n\n  ikw: () ->\n    sp    = @space()\n    group = new THREE.Group()\n    for plane   in [ { name:'Info',    z:sp.z1 }, { name:'Know',     z:sp.z2 }, { name:'Wise',      z:sp.z3 } ]\n      for row   in [ { name:'Learn',   y:sp.y1 }, { name:'Do',       y:sp.y2 }, { name:'Share',     y:sp.y3 } ]\n        for col in [ { name:'Embrace', x:sp.x3 }, { name:'Innovate', x:sp.x2 }, { name:'Encourage', x:sp.x1 } ]\n          practice  = @build.getPractice( row.name, col.name, plane.name )\n          # console.log( 'Cube.ikw()', practice.name, row.name, col.name, plane.name )\n          pracCube  = new Cube3D( plane.name, row.name, col.name, practice.name, [col.x,row.y,plane.z],\n            [sp.cubeWidth,sp.cubeHeight,sp.cubeDepth],practice['hsv'], 0.6, @fontPrac )\n          pracGroup = new THREE.Group()\n          pracGroup.add( pracCube.mesh  )\n          for key, study of practice when Vis.isChild(key)\n            x = col.x + sp.sx[study.dir]\n            y = row.y + sp.sy[study.dir]\n            z = plane.z\n            studyCube = new Rect( plane.name, row.name, col.name, study.name, [x,y,z], [sp.sw,sp.sh],study['hsv'], 1.0, @fontPrac, 0x000000 )\n            pracGroup.add( studyCube.mesh  )\n          group.add( pracGroup )\n    group.add( @prin() )\n    @convey(  sp, group )\n    @flow(    sp, group )\n    @conduit( sp, group )\n    group.material = new THREE.MeshLambertMaterial( { color:0x888888, transparent:true, opacity:0.5, side:THREE.DoubleSide } )\n    group.rotation.set( 0, 0, 0 )\n    group.position.set( 0, 0, 0 )\n    group.scale.set(    1, 1, 1 )\n    @scene.add( group )\n    group\n\n  prin: () ->\n    sp    = @space()\n    group = new THREE.Group()\n    for col in [ { name:'Embrace', x:sp.x3 }, { name:'Innovate', x:sp.x2 }, { name:'Encourage', x:sp.x1 } ]\n      practice  = @build.getCol( col.name )\n      pracCube  = new Cube3D( 'Prin', 'Dim', col.name, col.name, [col.x,sp.yc,sp.zc],\n        [sp.cubeWidth,sp.colsHeight,sp.colsDepth],practice['hsv'], 0.6, @fontPrac )\n      pracGroup = new THREE.Group()\n      pracGroup.add( pracCube.mesh  )\n      for plane in [ { name:'Info', z:sp.z1 }, { name:'Know', z:sp.z2 }, { name:'Wise', z:sp.z3 } ]\n        x = col.x\n        y = sp.yc\n        z = plane.z\n        studyCube = new Rect( plane, 'Dim', col.name, col.name, [x,y,z], [sp.cw,sp.ch], [0,0,0], 0.0, @fontPrac, 0xFFFFFF )\n        pracGroup.add( studyCube.mesh  )\n        for key, study of practice when Vis.isChild(key)\n          x = col.x + sp.cx[study.dir]\n          y = sp.yc + sp.cy[study.dir]\n          z = plane.z\n          studyCube = new Rect( 'Prin', 'Dim', col.name, key, [x,y,z], [sp.cw,sp.ch],study['hsv'], 1.0, @fontPrac, 0x000000 )\n          pracGroup.add( studyCube.mesh  )\n      group.add( pracGroup )\n    group.material = new THREE.MeshLambertMaterial( { color:0x888888, transparent:true, opacity:0.5, side:THREE.DoubleSide } )\n    group.rotation.set( 0, 0, 0 )\n    group.position.set( 0, 0, 0 )\n    group.scale.set(    1, 1, 1 )\n    @scene.add( group )\n    group\n\n  convey:( sp, group ) ->\n    hsv = [0,50,50]\n    w =   sp.horzSpace\n    h =   sp.studyHeight\n    x = ( sp.cubeWidth + w ) / 2\n    for plane   in [ { name:'Info',    z:sp.z1 },   { name:'Know',     z:sp.z2 }, { name:'Wise',     z:sp.z3 } ]\n      for row   in [ { name:'Learn',   y:sp.y1 },   { name:'Do',       y:sp.y2 }, { name:'Share',    y:sp.y3 } ]\n        for col in [ { name:'Embrace', x:sp.x3+x }, { name:'Innovate', x:sp.x2+x } ]\n          practice  = @build.getPractice( row.name, col.name, plane.name )\n          name = @build.connectName( practice, 'east', false )\n          rect = new Rect( plane.name, row.name, col.name, name, [col.x,row.y,plane.z], [w,h],hsv, 0.7, @fontPrac, 0xFFFFFF  )\n          group.add( rect.mesh )\n    return\n\n  flow:( sp, group ) ->\n    hsv = [0,50,50]\n    w =   sp.studyWidth\n    h =   sp.vertSpace\n    y = ( sp.cubeHeight + h ) / 2\n    for plane   in [ { name:'Info',    z:sp.z1 },  { name:'Know',     z:sp.z2   }, { name:'Wise',      z:sp.z3 } ]\n      for row   in [ { name:'Learn',   y:sp.y1-y}, { name:'Do',       y:sp.y2-y } ]\n        for col in [ { name:'Embrace', x:sp.x3},   { name:'Innovate', x:sp.x2   }, { name:'Encourage', x:sp.x1 } ]\n          practice  = @build.getPractice( row.name, col.name, plane.name )\n          name = @build.connectName( practice, 'south', false )\n          rect = new Rect( plane.name, row.name, col.name, name, [col.x,row.y,plane.z], [w,h],hsv, 0.7, @fontPrac, 0xFFFFFF  )\n          group.add( rect.mesh )\n    return\n\n  conduit:( sp, group ) ->\n    hsv = [0,50,50]\n    w =   sp.studyWidth\n    h =   sp.zzzzSpace\n    z = ( sp.cubeDepth + h ) / 2\n    for plane   in [ { name:'Info', z:sp.z1-z }, { name:'Know', z:sp.z2-z } ]\n      for row   in [ { name:'Learn',       y:sp.y1 },   { name:'Do',        y:sp.y2   }, { name:'Share',    y:sp.y3 } ]\n        for col in [ { name:'Embrace',     x:sp.x3 },   { name:'Innovate',  x:sp.x2   }, { name:'Encourage',x:sp.x1 } ]\n          practice  = @build.getPractice( row.name, col.name, plane.name )\n          name = @build.connectName( practice, 'next', true )\n          rect = new Rect( plane.name, row.name, col.name, name, [0,0,0], [w,h],hsv, 0.7, @fontPrac, 0xFFFFFF )\n          rect.mesh.rotation.x = -Math.PI / 2\n          rect.mesh.position.x = col.x\n          rect.mesh.position.y = row.y\n          rect.mesh.position.z = plane.z\n          group.add( rect.mesh )\n    return\n  \n  lights:() ->\n\n    object3d  = new THREE.DirectionalLight( 'white', 0.15 )\n    object3d.position.set(6,3,9)\n    object3d.name = 'Back light'\n    @scene.add(object3d)\n\n    object3d = new THREE.DirectionalLight( 'white', 0.35 );\n    object3d.position.set(-6, -3, 0)\n    object3d.name   = 'Key light'\n    @scene.add(object3d)\n\n    object3d = new THREE.DirectionalLight( 'white', 0.55 )\n    object3d.position.set(9, 9, 6)\n    object3d.name = 'Fill light'\n    @scene.add(object3d)\n\n    spotLight = new THREE.SpotLight( 0xffffff )\n    spotLight.position.set( 3, 30, 3 )\n    spotLight.castShadow = true\n    spotLight.shadow.mapSize.width  = 2048\n    spotLight.shadow.mapSize.height = 2048\n    spotLight.shadow.camera.near    = 1\n    spotLight.shadow.camera.far     = 4000\n    spotLight.shadow.camera.fov     = 45\n    @scene.add( spotLight )\n    return\n\n  createElems:( parElem, guiFlag ) ->\n    return [parElem,null] if not guiFlag\n    ikwElem  = document.createElement( 'div'  )\n    guiElem  = document.createElement( 'div'  )\n    parElem.appendChild( ikwElem )\n    parElem.appendChild( guiElem )\n    ikwStyle = document.createAttribute('style')\n    guiStyle = document.createAttribute('style')\n    ikwStyle.value = \"position:absolute; left:  0; top:0; width:80%; height:100%;\"\n    guiStyle.value = \"position:absolute; left:80%; top:0; width:20%; height:100%; background-color:black;\"\n    ikwElem.setAttributeNode( ikwStyle )\n    guiElem.setAttributeNode( guiStyle )\n\n    [ikwElem,guiElem]\n\n  traverse:( prop, name, act ) =>\n    act[name] = not act[name] if @stream?\n    # console.log( 'CubeTh.traverse()', { prop:prop, name:name, visible:act[name] } )\n    reveal = (child) =>\n      # console.log( 'CubeTh.traverse.beg', { name:child.name, tprop:prop, cprop:child[prop], value:value, visible:child.visible } )\n      if child[prop]? and child[prop] is name\n         child.visible = act[name]\n      # console.log( 'CubeTh.traverse.end', { name:child.name, geom:child.geom, prop:prop, value:value, visible:child.visible } )\n    @group.traverse( reveal ) if @group?\n    return\n\n  createAct:( group ) ->\n    {\n      Info    : true, Know      : true, Wise      : true,\n      Learn   : true, Do        : true, Share     : true,\n      Embrace : true, Innovate  : true, Encourage : true,\n      Opacity:group.material.opacity, Color:group.material.color,\n      RotationX:group.rotation.x, RotationY:group.rotation.y, RotationZ:group.rotation.z,\n      PositionX:0, PositionY:0,  PositionZ:0,\n      ScaleX:1,    ScaleY:1,     ScaleZ:1\n    }\n\n  createTraversals:( act ) ->\n    {\n      info:      () => @traverse( 'plane', 'Info',      act )\n      know:      () => @traverse( 'plane', 'Know',      act )\n      wise:      () => @traverse( 'plane', 'Wise',      act )\n      learn:     () => @traverse( 'row',   'Learn',     act )\n      doDo:      () => @traverse( 'row',   'Do',        act )\n      share:     () => @traverse( 'row',   'Share',     act )\n      embrace:   () => @traverse( 'col',   'Embrace',   act )\n      innovate:  () => @traverse( 'col',   'Innovate',  act )\n      encourage: () => @traverse( 'col',   'Encourage', act )\n    }\n\n  ui:( group, guiElem ) ->\n\n    act       = @createAct( group )\n    traverals = @createTraversals( act )\n\n    dat = Vis.getGlobal('dat')\n    gui = dat.GUI( { autoPlace: false } )\n    guiElem.appendChild( gui.domElement )\n\n    f1 = gui.addFolder('Planes')\n    f1.add( act, 'Info' ).onChange( traverals.info )\n    f1.add( act, 'Know' ).onChange( traverals.know )\n    f1.add( act, 'Wise' ).onChange( traverals.wise )\n\n    f2 = gui.addFolder('Rows')\n    f2.add( act, 'Learn' ).onChange( traverals.learn )\n    f2.add( act, 'Do'    ).onChange( traverals.doDo  )\n    f2.add( act, 'Share' ).onChange( traverals.share )\n\n    f3 = gui.addFolder('Prin')\n    f3.add( act, 'Embrace'   ).onChange( traverals.embrace   )\n    f3.add( act, 'Innovate'  ).onChange( traverals.innovate  )\n    f3.add( act, 'Encourage' ).onChange( traverals.encourage )\n\n    f4 = gui.addFolder('Rotation')\n    f4.add( act, 'RotationX', -180, 180 ).onChange( () => group.rotation.x = @deg2rad(act.RotationX) )\n    f4.add( act, 'RotationY', -180, 180 ).onChange( () => group.rotation.y = @deg2rad(act.RotationY) )\n    f4.add( act, 'RotationZ', -180, 180 ).onChange( () => group.rotation.z = @deg2rad(act.RotationZ) )\n\n    f5 = gui.addFolder('Position');\n    f5.add( act, 'PositionX', -500, 500 ).onChange( () -> group.position.x = act.PositionX )\n    f5.add( act, 'PositionY', -500, 500 ).onChange( () -> group.position.y = act.PositionY )\n    f5.add( act, 'PositionZ', -500, 500 ).onChange( () -> group.position.z = act.PositionZ )\n\n    f6 = gui.addFolder('Scale')\n    f6.add( act, 'ScaleX', 0.1, 5 ).onChange( () -> group.scale.x = act.ScaleX )\n    f6.add( act, 'ScaleY', 0.1, 5 ).onChange( () -> group.scale.y = act.ScaleY )\n    f6.add( act, 'ScaleZ', 0.1, 5 ).onChange( () -> group.scale.z = act.ScaleZ )\n\n    [gui,act]\n\n  animate:() =>\n    requestAnimationFrame( @animate )\n    @controls.update();\n    @renderScene()\n    return\n\n  renderScene:() ->\n    @renderer.render( @scene, @camera )\n    return\n\n  geom:() ->\n\n    color    = 0x888888 # Guess\n    geometry = new THREE.BoxGeometry( 2, 2, 2 )\n    material = new THREE.MeshLambertMaterial({ color:color, transparent:true } )\n    mesh     = new THREE.Mesh(geometry, material)\n    mesh.position.set(0, 0, 0)\n    mesh.rotation.set(0, 0, 0)\n    mesh.rotation.y = @deg2rad(-90)\n    mesh.scale.set(1, 1, 1)\n    mesh.doubleSided = true\n    mesh.castShadow = true\n    @scene.add(mesh)\n\n    geometry2 = new THREE.BoxGeometry( 1, 1, 1 )\n    material2 = new THREE.MeshLambertMaterial({ color:color, transparent:true } )\n    mesh2     = new THREE.Mesh(geometry2, material2)\n    @scene.add(mesh2)\n    return\n\nexport default CubeTh\n\n"
  ]
}