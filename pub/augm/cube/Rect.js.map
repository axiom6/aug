{
  "version": 3,
  "file": "Rect.js",
  "sourceRoot": "../../../src/augm/cube",
  "sources": [
    "Rect.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport Vis        from '../../../lib/pub/base/draw/Vis.js'\nimport * as THREE from 'three'\n\nclass Rect\n\n  constructor:( @plane, @row, @col, @title, @xyz, @wh, @hsv, @opacity, @font, @fontColor ) ->\n    rec = new THREE.PlaneGeometry( @wh[0], @wh[1] )\n    rec.translate(      @xyz[0], @xyz[1], @xyz[2] )\n\n    col   = Vis.hex( @hsv )\n    mat   = new THREE.MeshBasicMaterial( { color:col, opacity:@opacity, transparent:true, side:THREE.DoubleSide } )\n    @mesh = new THREE.Mesh( rec, mat )\n    @mesh.name  = @title\n    @mesh.geom  = \"Rect\"\n    @mesh.plane = @plane\n    @mesh.row   = @row\n    @mesh.col   = @col\n\n    obj  = { font:@font, size:10, height:5, curveSegments:2 }\n    text = new THREE.TextBufferGeometry( @title, obj )\n    text.computeBoundingBox()\n    face = new THREE.MeshBasicMaterial( { color: @fontColor } )\n    side = new THREE.MeshBasicMaterial( { color: @fontColor } )\n\n    mats = [face,side]\n    offsetY = not Vis.inStr( @title, '\\n' )\n    dx   = 0.5 * ( text.boundingBox.max.x - text.boundingBox.min.x )\n    dy   = if offsetY then 0.5 * ( text.boundingBox.max.y - text.boundingBox.min.y ) else 0\n    Rect.matrix.makeTranslation( @xyz[0]-dx, @xyz[1]-dy, @xyz[2]   )\n    text.applyMatrix( Rect.matrix )\n    @tmesh       = new THREE.Mesh( text, mats )\n    @tmesh.name  = @title\n    @tmesh.geom  = \"Text\"\n    @tmesh.plane = @plane\n    @tmesh.row   = @row\n    @tmesh.col   = @col\n    @mesh.add( @tmesh )\n\n  colorRgb:( rgb ) ->\n    \"rgb(#{Math.round(rgb[0]*255)}, #{Math.round(rgb[1]*255)}, #{Math.round(rgb[2]*255)})\"\n\nRect.matrix = new THREE.Matrix4()\n\n`export default Rect`"
  ]
}