{
  "version": 3,
  "file": "Axes.js",
  "sourceRoot": "../../../src/augm/show",
  "sources": [
    "Axes.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport Vis  from '../../../lib/pub/draw/Vis.js'\n\n\nclass Axes\n\n  constructor:( @svgMgr ) ->\n    @d3  = @svgMgr.d3\n    @svg = @svgMgr.svg\n    @g   = @svgMgr.g\n    @ready()\n\n  ready:() ->\n    sz = @svgMgr.size\n    @margin = { left:40, top:40, right:40, bottom:40 }\n    @width  = Math.min(sz.w,sz.h) - @margin.left - @margin.right\n    @height = Math.min(sz.w,sz.h) - @margin.top  - @margin.bottom\n    @xObj   = { x1:0, x2:100, xtick1:10, xtick2:1, stroke1:'#AAAAAA', stroke2:'#666666' }\n    @yObj   = { y1:0, y2:100, ytick1:10, ytick2:1, stroke1:'#AAAAAA', stroke2:'#666666' }\n    @xScale = @createXScale( @xObj, @width  )\n    @yScale = @createYScale( @yObj, @height )\n    @axes( @g, @xObj, @yObj )\n    @grid( @g, @xObj, @yObj )\n\n  axes:( g, xObj, yObj ) ->\n    @attrG( g )\n    @bAxis  = @createBAxis( g, xObj )\n    @tAxis  = @createTAxis( g, xObj )\n    @lAxis  = @createLAxis( g, yObj )\n    @rAxis  = @createRAxis( g, yObj )\n    if @bAxis is false and @tAxis is false and @lAxis is false and @rAxis is false then {}\n\n  createXScale:( xObj, width ) ->\n    @d3.scaleLinear().domain([xObj.x1,xObj.x2]).range([0,width]).clamp(true)\n\n  createYScale:( yObj, height ) ->\n    @d3.scaleLinear().domain([yObj.y1,yObj.y2]).range([height,0] ).clamp(true)\n\n  attrG:( g ) ->\n    g.attr(\"style\",\"overflow:visible;\")\n     .attr(\"transform\", \"translate(#{@margin.left},#{@margin.top})\" )\n     .attr(\"style\",\"overflow:visible;\")\n\n  createBAxis:( g, xObj ) ->\n    ntick1 = (xObj.x2-xObj.x1) / xObj.xtick1 # ntick2 = xObj.xtick1/xObj.xtick2\n    axisBottom = @d3.axisBottom().scale(@xScale).ticks(ntick1).tickSize(12).tickPadding(1)\n    g.append(\"svg:g\")\n     .attr(\"class\", \"axis-bottom axis\")\n     .attr(\"stroke\", '#FFFFFF')\n     .attr(\"transform\", \"translate(0,#{@height})\" )\n     .call( axisBottom )\n     .selectAll('.tick line').attr(\"stroke\", '#FFFFFF')\n    axisBottom\n\n  createTAxis:( g, xObj ) ->\n    ntick1 = (xObj.x2-xObj.x1) / xObj.xtick1 #ntick2 = xObj.xtick1/xObj.xtick2\n    axisTop = @d3.axisTop().scale(@xScale).ticks(ntick1).tickSize(12).tickPadding(1)\n    g.append(\"svg:g\")\n     .attr(\"class\", \"axis-top axis\")\n     .attr(\"stroke\", '#FFFFFF')\n     .call( axisTop )\n     .selectAll('.tick line').attr(\"stroke\", '#FFFFFF')\n    axisTop\n\n  createLAxis:( g, yObj ) ->\n    ntick1 = (yObj.y2-yObj.y1) / yObj.ytick1 # ntick2 = ytick1/yObj.ytick2\n    axisLeft  = @d3.axisLeft().scale(@yScale).ticks(ntick1).tickSize(12).tickPadding(1)\n    g.append(\"svg:g\")\n     .attr(\"class\", \"axis-left axis\")\n     .attr(\"stroke\", '#FFFFFF')\n     .call( axisLeft )\n     .selectAll('.tick line').attr(\"stroke\", '#FFFFFF')\n    axisLeft\n\n  createRAxis:( g, yObj ) ->\n    ntick1 = (yObj.y2-yObj.y1) / yObj.ytick1 #ntick2 = ytick1/yObj.ytick2\n    axisRight  = @d3.axisRight().scale(@yScale).ticks(ntick1).tickSize(12).tickPadding(1)\n    g.append(\"svg:g\")\n     .attr(\"class\", \"axis-right axis\")\n     .attr(\"stroke\", '#FFFFFF')\n     .attr(\"transform\", \"translate(#{@width},0)\" )\n     .call( axisRight )\n     .selectAll('.tick line').attr(\"stroke\", '#FFFFFF')\n    axisRight\n\n  grid:( g, xObj, yObj ) ->\n    elem = g.append(\"g:g\")\n    @xLines( elem, xObj.x1, xObj.x2, xObj.xtick2, yObj.y1, yObj.y2, xObj.stroke2, 1 )\n    @yLines( elem, yObj.y1, yObj.y2, yObj.ytick2, xObj.x1, xObj.x2, yObj.stroke2, 1 )\n    @xLines( elem, xObj.x1, xObj.x2, xObj.xtick1, yObj.y1, yObj.y2, xObj.stroke1, 1 )\n    @yLines( elem, yObj.y1, yObj.y2, yObj.ytick1, xObj.x1, xObj.x2, yObj.stroke1, 1 )\n\n  line:( elem, x1, y1, x2, y2, stroke=\"white\", thick=1, xScale=@xScale, yScale=@yScale ) ->\n   elem.append(\"svg:line\")   #attr(\"x1\",x1).attr(\"y1\",y1).attr(\"x2\",x2).attr(\"y2\",y2)\n    .attr(\"x1\",xScale(x1)).attr(\"y1\",yScale(y1)).attr(\"x2\",xScale(x2)).attr(\"y2\",yScale(y2))\n    .attr(\"stroke\",stroke).attr(\"stroke-width\",thick)\n\n  xLines:( elem, xb, xe, dx, y1, y2, stroke, thick ) ->\n    i  = 1\n    x1 = Vis.floor( xb, dx )\n    x2 = Vis.ceil(  xe, dx )\n    x  = x1\n    while( x <= x2 )\n      @line( elem, x, y1, x, y2, stroke, thick )\n      x = x1 + dx * i++\n\n  yLines:( elem, yb, ye, dy, x1, x2, stroke, thick ) ->\n    i  = 1\n    y1 = Vis.floor( yb, dy )\n    y2 = Vis.ceil(  ye, dy )\n    y  = y1\n    while( y <= y2 )\n      @line( elem, x1, y, x2, y, stroke, thick )\n      y = y1 + dy * i++\n\nexport default Axes"
  ]
}