{
  "version": 3,
  "file": "Link.js",
  "sourceRoot": "../../../src/augm/show",
  "sources": [
    "Link.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\nimport Util from '../../../lib/pub/base/util/Util.js'\nimport Vis  from '../../../lib/pub/base/draw/Vis.js'\n\nclass Link\n\n  constructor:( @svgMgr ) ->\n    @d3  = @svgMgr.d3\n    @svg = @svgMgr.svg\n    @g   = @svgMgr.g\n    @ready()\n    if @link2 is false and @strokeOpp is false then {}\n\n  ready:() ->\n    @graph    = @svgMgr.svg\n    @w        = @svgMgr.size.w\n    @h        = @svgMgr.size.h\n    @cssLink  = 'link'\n    @thick    = 1\n    @da       = 5\n    @ornament( 150 )\n    return\n\n  link:( x1, y1, x2, y2, n, fill ) ->\n    r  = Math.sqrt( (y2-y1)*(y2-y1) + (x2-x1)*(x2-x1) ) / 2\n    a1 = Vis.angleSvg( x2-x1, y2-y1 )\n    a2 = Vis.angleSvg( x1-x2, y1-y2 )\n    @linkBeg( x1, y1, a1, r, n, fill )\n    @linkEnd( x2, y2, a2, r, n, fill )\n    return\n\n  linkBeg:( x1, y1, a1, r1, n, fill ) ->\n    n2  = Math.floor( n/2 )\n    b1  = a1 - @da * n2\n    e1  = a1 + @da * n2 + 1\n    b1 += 360 if a1 is 0\n    e1 += 360 if a1 is 0\n    @radiate( @g, x1, y1, r1, b1, e1, @da, false, Vis.css([fill,90,90],'ysv') )\n    return\n\n  linkEnd:( x2, y2, a2, r2, n, fill ) ->\n    n2 = Math.floor( n/2 )\n    b2 = a2 - @da * n2\n    e2 = a2 + @da * n2 + 1\n    b2 += 360 if a2 is 0\n    e2 += 360 if a2 is 0\n    @radiate( @g, x2, y2, r2, b2, e2, @da, false, Vis.css([fill,90,90],'ysv') )\n    return\n\n  link2:( x1, y1, x2, y2, n, fill ) ->\n    r  = Math.sqrt( (y2-y1)*(y2-y1) + (x2-x1)*(x2-x1) ) / 2\n    n2 = Math.floor( n/2 )\n    a1 = Vis.angleSvg( x2-x1, y2-y1 )\n    b1 = a1 - @da * n2\n    e1 = a1 + @da * n2 + 1\n    a2 = Vis.angleSvg( x1-x2, y1-y2 )\n    b2 = a2 - @da * n2\n    e2 = a2 + @da * n2 + 1\n    @radiate( @g, x1, y1, r, b1, e1, @da, false, Vis.css([fill,90,90],'ysv') )\n    @radiate( @g, x2, y2, r, b2, e2, @da, false, Vis.css([fill,90,90],'ysv') )\n    return\n\n\n  strokeOpp:( ang ) =>\n    hue = 180-ang\n    hue = 360+hue if hue < 0\n    [Vis.css( [hue,50,80] ), hue ]\n\n  inEast:(  ang ) -> (  0 <= ang and ang <=  45 ) or ( 315 <= ang and ang <= 360 )\n  inNorth:( ang ) ->   45 <  ang and ang <  134\n  inWest:(  ang ) ->  135 <= ang and ang <= 225\n  inSouth:( ang ) ->  225 <  ang and ang <  315\n\n  hue090:( ang ) -> 360 - ang\n  hue180:( ang ) -> if ang <= 180 then 180-ang else 540-ang\n  hue270:( ang ) -> 360 - ang\n  hue360:( ang ) -> 540 - ang\n\n  ornament:( r ) ->\n    @radiate( @g, @w*0.50,     @h*0.50,     r,   0, 360, 5, false )\n    @radiate( @g, @w*0.50+2*r, @h*0.50,     r, 135, 226, 5, false, @hue180 )\n    @radiate( @g, @w*0.50,     @h*0.50-2*r, r, 225, 315, 5, true,  @hue270 )\n    @radiate( @g, @w*0.50-2*r, @h*0.50,     r, 315, 406, 5, false, @hue360 )\n    @radiate( @g, @w*0.50,     @h*0.50+2*r, r,  45, 135, 5, true,  @hue090 )\n    return\n\n  line:(  x0, y0, x1, y1 )                 -> \"\"\"M#{x0},#{y0}L#{x1},#{y1}\"\"\"\n  quad:(  x0, y0, x1, y1, x2, y2 )         -> \"\"\"M#{x0},#{y0}Q#{x1},#{y1} #{x2},#{y2}\"\"\"\n  cubic:( x0, y0, x1, y1, x2, y2, x3, y3 ) -> \"\"\"M#{x0},#{y0}C#{x1},#{y1} #{x2},#{y2} #{x3},#{y3}\"\"\"\n\n  circle:( g, r, x, y, stroke ) ->\n    g.append(\"svg:circle\").attr(\"r\",r).attr(\"r\",r).attr(\"cx\",x).attr(\"cy\",y)\n     .attr(\"fill\",stroke).attr(\"stroke\",'none')\n    return\n\n  path:( g, stroke, ang, hue, d )->\n    g.append('svg:path').attr( 'd', d ).attr('stroke',stroke).attr('fill','none')\n     .attr('class',@cssLink)\n     .attr('stroke-width',@thick).attr('title',ang+' '+hue)\n    return\n\n  radiate:( g, x0, y0, r, beg, end, da, skipBeg=false, toHue = (ang) -> ang ) ->\n    pc = .5\n    for a in [beg...end] by da\n      continue if a is beg and skipBeg\n      ang = if a > 360 then a - 360 else a\n      yy = 0\n      [x,yy] = @xy( ang, x0, y0, r )\n      if @inEast(ang) or @inWest(ang)\n        x1  = (x0*(1-pc)+x*pc)\n        x2  = (x0*pc+x*(1-pc))\n        y1  =  y0\n        y2  =  yy\n      else\n        x1  = x0\n        x2  = x\n        y1  = (y0*(1-pc)+yy*pc)\n        y2  = (y0*pc+yy*(1-pc))\n      hue    = 0\n      stroke = toHue\n      if Util.isFunc(toHue)\n        hue    = toHue(ang)\n        stroke = Vis.css( [hue, 50, 80 ] )\n      @path( g, stroke, ang, hue, @cubic( x0, y0, x1, y1, x2, y2, x, yy ) )\n    return\n\n  xy:( ang, x0, y0, r ) ->\n    cos =  Vis.cosSvg(ang)\n    sin =  Vis.sinSvg(ang)\n    cos =  1 if @inEast(  ang )\n    cos = -1 if @inWest(  ang )\n    sin = -1 if @inNorth( ang )\n    sin =  1 if @inSouth( ang )\n    x   = x0 + r * cos\n    y   = y0 + r * sin\n    [x,y]\n\n  tree:( g, x0, y0, pts, stroke ) ->\n    x  = 0\n    yy = 0\n    for [x,yy] in pts\n      x1 = x  - 30\n      y1 = y0\n      x2 = x0 - 30\n      y2 = yy\n      @path( g, @cubic( x0, y0, x1, y1, x2, y2, x, yy ), stroke )\n      @circle( g, 2, x0, y0, stroke )\n      @circle( g, 2, x1, y1, stroke )\n      @circle( g, 2, x2, y2, stroke )\n      @circle( g, 2, x,  yy, stroke )\n      #console.log( { x0:x0, y0:y0, x1:x1, y1:y1, x2:x2, y2:y2, x3:x, y3:yy } )\n    return\n\n  diag:( g, x0, y0, pts, stroke ) ->\n    pc = .5\n    x  = 0\n    yy = 0\n    for [x,yy] in pts\n      x1  = (x0*(1-pc)+x*pc)\n      x2  = (x0*pc+x*(1-pc))\n      y1  = y0\n      y2  = yy\n      @path( g, @cubic( x0, y0, x1, y1, x2, y2, x, yy ), stroke )\n      @circle( g, 2, x0, y0, stroke )\n      @circle( g, 2, x1, y1, stroke )\n      @circle( g, 2, x2, y2, stroke )\n      @circle( g, 2, x,  yy, stroke )\n      #console.log( { x0:x0, y0:y0, x1:x1, y1:y1, x2:x2, y2:y2, x3:x, y3:yy } )\n    return\n\nLink.pts1 = [ [200, 40], [200, 60], [200, 80], [200,100], [200,120], [200,140], [200,160] ]\n\nexport default Link"
  ]
}