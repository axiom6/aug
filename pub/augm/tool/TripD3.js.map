{
  "version": 3,
  "file": "TripD3.js",
  "sourceRoot": "../../../src/augm/tool",
  "sources": [
    "TripD3.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport {vis}     from '../../../lib/pub/draw/Vis.js'\nimport MilePosts from '../../../data/exit/Mileposts.json'\n\nclass TripD3\n\n  constructor:( @svgMgr ) ->\n    @d3    = @svgMgr.d3\n    @svg   = @svgMgr.svg\n    @g     = @svgMgr.g\n    @segs  = @createSeqs()\n    @debug = true\n\n  createSeqs:() ->\n    segs = []\n    i    = 1\n    for own key, obj of Mileposts\n      segs[0] = obj.Beg if i is 1\n      segs[i] = obj.End\n      i++\n    seqs\n\n  draw:() ->\n    d3.select('#'+@gId).selectAll(\"*\").remove()\n    @mileBeg  = @segs[0]\n    @mileEnd  = @segs[@segs.length-1]\n    @distance = Math.abs( @mileBeg - @mileEnd  )\n    console.log( 'TripD3.draw() 1', { mileBeg:@mileBeg, mileEnd:@mileEnd, distance:@distance } ) if @debug\n    thick    = 1\n    x        = 0\n    y        = @barTop()\n    w        = @svgWidth()\n    h        = @barHeight()\n    @createTravelTime( trip, @g, x, y, w, h )\n    @rect( trip, @g, trip.segments[0], @role+'Border', x, y, w, h, 'transparent', 'white', thick*4, '' )\n    for i in [0...@segs.lenght-1]\n      beg   = w * Math.abs( @segs[i]    - @mileBeg ) / @distance\n      end   = w * Math.abs( @segs[i+1]  - @mileBeg ) / @distance\n      fill  = @fillCondition( seg.segId, trip.conditions )\n      console.log( 'TripD3.draw() 2', { segId:seg.segId, beg:beg, end:end,  w:Math.abs(end-beg) } ) if @debug\n      @rect( trip, @g, seg, seg.segId, beg, y, Math.abs(end-beg), h, fill, 'black', thick, '' )\n    @created  = true\n    return\n\nexport default TripD3"
  ]
}