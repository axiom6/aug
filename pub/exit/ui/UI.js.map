{
  "version": 3,
  "file": "UI.js",
  "sourceRoot": "../../../src/exit/ui",
  "sources": [
    "UI.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport $         from 'jquery'\nimport Util      from '../util/Util.js'\nimport IconsUC   from '../uc/IconsUC.js'\n\n\nclass UI\n\n  UI.IconSpecs = [\n    { name:'Destination',    css:'Icon', icon:'fas fa-file-image'  }\n    { name:'Recommendation', css:'Icon', icon:'fas fa-thumbs-up'   }\n    { name:'Trip',           css:'Icon', icon:'fas fa-road'        }\n    { name:'Deals',          css:'Icon', icon:'fas fa-trophy'      }\n    { name:'Navigate',       css:'Icon', icon:'fas fa-car'         }\n    { name:'Point',          css:'Icon', icon:'fas fa-compass'     }\n    { name:'Fork',           css:'Icon', icon:'fas fa-code-branch' } ]\n\n  constructor:( @stream, @destinationUI, @goUI, @tripUI, @dealsUI, @navigateUI ) ->\n    @iconsUC        = new IconsUC( @stream, 'Icons', [0,0,100,10], [0,0,100,18], UI.IconSpecs, true, true )\n    @orientation    = 'Portrait'\n    @recommendation = '?'\n\n  ready:() ->\n    @$ = $( @html() )\n    $('#App').append(@$)\n    @iconsUC.ready()\n    @destinationUI.ready()\n    @goUI.ready()\n    @tripUI.ready()\n    @dealsUI.ready()\n    @navigateUI.ready()\n    @$.append( @iconsUC.$ )\n    @$view = @$.find('#View')\n    @$view.append(@destinationUI.$)\n    @$view.append(@goUI.$)\n    @$view.append(@tripUI.$)\n    @$view.append(@dealsUI.$)\n    @$view.append(@navigateUI.$)\n    @subscribe()\n    @stream.publish( 'Icons', 'Destination' ) # We publish the first screen selection to be Destionaion\n\n  position:(   screen ) ->\n    @onScreen( screen )\n    @iconsUC.position(       screen )\n    @destinationUI.position( screen )\n    @goUI.position(          screen )\n    @tripUI.position(        screen )\n    @dealsUI.position(       screen )\n    @navigateUI.position(    screen )\n\n  subscribe:() ->\n    @stream.subscribe( 'Icons',  'UI', (name)   => @onIcons(  name   ) )\n    @stream.subscribe( 'Screen', 'UI', (screen) => @onScreen( screen ) )\n    @stream.subscribe( 'Trip',   'UI', (trip)   => @onTrip(   trip   ) )\n\n  id:(   name, type     ) -> Util.id(   name, type     )\n  css:(  name, type     ) -> Util.css(  name, type     )\n  icon:( name, type, fa ) -> Util.icon( name, type, fa )\n\n  html:() ->\n    \"\"\"<div   id=\"#{@id('UI')}\"   class=\"#{@css('UI')}\">\n         <div id=\"#{@id('View')}\" class=\"#{@css('View')}\"></div>\n        </div>\"\"\"\n\n  onTrip:( trip ) ->\n    if @recommendation isnt  trip.recommendation\n      @changeRecommendation( trip.recommendation )\n    return\n\n  reverseRecommendation:() ->\n    if @recommendation is 'GO' then 'NO GO' else 'GO'\n\n  reverseOrientation:() ->\n    if @orientation is 'Portrait' then 'Landscape' else 'Portrait'\n\n  changeRecommendation:( recommendation ) ->\n    @onIcons( 'Recommendation' )\n    faClass = if recommendation is 'GO' then 'fas fa-thumbs-up' else 'fas fa-thumbs-down'\n    $icon   =  @iconsUC.$find('Recommendation')\n    $icon.find('i'  ).attr( 'class', faClass )\n    $icon.find('div').text(recommendation)\n    @goUI.bannerUC.changeRecommendation( recommendation )\n    @recommendation = recommendation\n    return\n\n  onScreen:( screen ) ->\n    if @orientation isnt screen.orientation\n       @orientation    = screen.orientation\n       url = \"/assets/phone6x12#{screen.orientation}.png\"\n       $('body').css( { \"background-image\":\"url(#{url})\" } )\n       $('#App').attr( 'class', \"App#{screen.orientation}\" )\n\n  onIcons:( name ) =>\n    # Util.dbg( 'UI.onIcon() Beg', name, @lastSelect.$.attr('id') )\n    @lastSelect.hide() if @lastSelect?\n    switch name\n      when 'Destination'     then @lastSelect = @destinationUI\n      when 'Recommendation'  then @lastSelect = @goUI\n      when 'Trip'            then @lastSelect = @tripUI\n      when 'Deals'           then @lastSelect = @dealsUI\n      when 'Navigate'        then @lastSelect = @navigateUI\n      when 'Fork'            then @changeRecommendation( @reverseRecommendation() )\n      when 'Point'           then @stream.publish( 'Screen', @toScreen(@reverseOrientation() ) )\n      else\n        console.error( \"UI.select unknown name\", name )\n    @lastSelect.show()\n    return\n\n  width: () -> @$.width()\n  height:() -> @$.height()\n\n  toScreen:( orientation ) ->\n    if orientation is @orientation\n      { orientation:orientation, width:@width(), height:@height() }\n    else\n      { orientation:orientation, width:@height(), height:@width() }\n\n`export default UI`\n\n"
  ]
}