{
  "version": 3,
  "file": "Util.js",
  "sourceRoot": "../../../src/exit/util",
  "sources": [
    "Util.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n# Static method utilities       - Util is a global without a functional wrapper\n# coffee -c -bare Util.coffee   - prevents function wrap to put Util in global namespace\nimport $  from 'jquery'\n\nclass Util\n\n  Util.testTrue  = true\n  Util.debug     = false\n  Util.count     = 0\n  Util.modules   = []\n  Util.instances = []\n  Util.htmlIds   = {}\n  Util.root      = ''\n  Util.paths     = {} # Set by loadInitLibs for future reference in calls to loadModule(s)\n  Util.libs      = {} # Set by loadInitLibs for future reference in calls to loadModule(s)\n  console.logStackNum = 0\n  console.logStackMax = 100\n\n  @element:( $elem ) ->\n    # console.log( 'Dom.element()', $elem, Dom.isJQueryElem( $elem ) )\n    if Util.isJQueryElem( $elem )\n      $elem.get(0)\n    else if Util.isStr( $elem )\n      $($elem).get(0)\n    else\n      console.error('Dom.domElement( $elem )', typeof($elem), $elem,\n        '$elem is neither jQuery object nor selector' )\n      null\n\n  @isJQueryElem:( $elem ) ->\n    $? and $elem? and ( $elem instanceof $ || 'jquery' in Object($elem) )\n\n# ------ Modules ------\n\n  @init:() ->\n\n  @hasMethod:( obj, method, issue=false ) ->\n    has = typeof obj[method] is 'function'\n    console.log( 'Util.hasMethod()', method, has )  if not has and issue\n    has\n\n  @hasGlobal:( global, issue=true ) ->\n    if not global?\n      Util.trace(  global )\n      return false\n    has = window[global]?\n    console.error( \"Util.hasGlobal() #{global} not present\" )  if not has and issue\n    has\n\n  @getGlobal:( global, issue=true ) ->\n    if Util.hasGlobal( global, issue ) then window[global] else null\n\n  @hasPlugin:( plugin, issue=true ) ->\n    glob = Util.firstTok(plugin,'.')\n    plug = Util.lastTok( plugin,'.')\n    has  = window[glob]? and window[glob][plug]?\n    console.error( \"Util.hasPlugin()  $#{glob+'.'+plug} not present\" )  if not has and issue\n    has\n\n  @hasModule:( path, issue=true ) ->\n    has = Util.modules[path]?\n    console.error( \"Util.hasModule() #{path} not present\" )  if not has and issue\n    has\n\n  @dependsOn:() ->\n    ok = true\n    for arg in arguments\n      has = Util.hasGlobal(arg,false) or Util.hasModule(arg,false) or Util.hasPlugin(arg,false)\n      console.error( 'Missing Dependency', arg ) if not has\n      ok = has if has is false\n    ok\n\n  @verifyLoadModules:(lib,modules,global=undefined) ->\n    ok  = true\n    for module in modules\n      has = if global? then Util.hasGlobal(global,false) or Util.hasPlugin(global) else Util.hasModule(lib+module,false)?\n      console.error( 'Util.verifyLoadModules() Missing Module', lib+module+'.js', {global:global} ) if not has\n      ok &= has\n    ok\n\n  @setInstance:( instance, path ) ->\n    console.log( 'Util.setInstance()', path )\n    if not instance? and path?\n      console.error('Util.setInstance() instance not defined for path', path )\n    else if instance? and not path?\n      console.error('Util.setInstance() path not defined for instance', instance.toString() )\n    else\n      Util.instances[path] = instance\n    return\n\n  @getInstance:( path, dbg=false ) ->\n    console.log( 'getInstance', path ) if dbg\n    instance = Util.instances[path]\n    if not instance?\n      console.error('Util.getInstance() instance not defined for path', path )\n    instance\n\n  # ---- Logging -------\n\n  # args should be the arguments passed by the original calling function\n  # This method should not be called directly\n  @toStrArgs:( prefix, args ) ->\n    console.logStackNum = 0\n    str = if Util.isStr(prefix) then prefix + \" \"  else \"\"\n    for arg in args\n      str += Util.toStr(arg) + \" \"\n    str\n\n  @toStr:( arg ) ->\n    console.logStackNum++\n    return '' if console.logStackNum > console.logStackMax\n    switch typeof(arg)\n      when 'null'   then 'null'\n      when 'string' then Util.toStrStr(arg)\n      when 'number' then arg\n      when 'object' then Util.toStrObj(arg)\n      else arg\n\n  # Recusively stringify arrays and objects\n  @toStrObj:( arg ) ->\n    str = \"\"\n    if not arg?\n      str += \"null\"\n    else if Util.isArray(arg)\n      str += \"[ \"\n      for a in arg\n        str += Util.toStr(a) + \",\"\n      str = str.substr(0, str.length - 1) + \" ]\"\n    else if Util.isObjEmpty(arg)\n      str += \"{}\"\n    else\n      str += \"{ \"\n      for prop of arg\n        str += '\\n' if typeof(arg[prop]) is 'object'\n        str += prop + \":\"   + Util.toStr(arg[prop]) + \", \"  if arg.hasOwnProperty(prop)\n      str = str.substr(0, str.length - 2) + \" }\" # Removes last comma\n    str\n\n  @toStrStr:( arg ) ->\n    if arg.length > 0 then arg\n    else '\"\"'\n\n  # Consume unused but mandated variable to pass code inspections\n  @noop:() ->\n    console.log( arguments ) if false\n    return\n\n  # Conditional log arguments through console\n  @dbg:() ->\n    return if not Util.debug\n    str = Util.toStrArgs( '', arguments )\n    Util.consoleLog( str )\n    return\n\n  # Log Error and arguments through console and Gritter\n  @error:() ->\n    str  = Util.toStrArgs( 'Error:', arguments )\n    Util.consoleLog( str )\n    # Util.trace( 'Trace:' )\n    return\n\n  # Log Warning and arguments through console and Gritter\n  @warn:() ->\n    str  = Util.toStrArgs( 'Warning:', arguments )\n    Util.consoleLog( str )\n    return\n\n  @toError:() ->\n    str = Util.toStrArgs( 'Error:', arguments )\n    new Error( str )\n\n  # Log arguments through console if it exists\n  @log:() ->\n    str = Util.toStrArgs( '', arguments )\n    Util.consoleLog( str )\n    return\n\n  @called:() ->\n    str = Util.toStrArgs( '', arguments )\n    Util.consoleLog( str )\n    @gritter( { title:'Called', time:2000 }, str )\n    return\n\n  @consoleLog:( str ) ->\n    console.log(str) if console?\n    return\n\n  @trace:(  ) ->\n    str = Util.toStrArgs( 'Trace:', arguments )\n    try\n      throw new Error( str )\n    catch error\n      console.log( error.stack )\n    return\n\n  @alert:(  ) ->\n    str = Util.toStrArgs( '', arguments )\n    Util.consoleLog( str )\n    alert( str )\n    return\n\n  # Does not work\n  @logJSON:(json) ->\n    Util.consoleLog(json)\n\n  # ------ Validators ------\n\n  @isDef:(d)         ->  d?\n  @isStr:(s)         ->  s? and typeof(s)==\"string\" and s.length > 0\n  @isNum:(n)         ->  n? and typeof(n)==\"number\" and not isNaN(n)\n  @isObj:(o)         ->  o? and typeof(o)==\"object\"\n  @isObjEmpty:(o)    ->  Util.isObj(o) and Object.getOwnPropertyNames(o).length is 0\n  @isFunc:(f)        ->  f? and typeof(f)==\"function\"\n  @isArray:(a)       ->  a? and typeof(a)!=\"string\" and a.length? and a.length > 0\n  @isEvent:(e)       ->  e? and e.target?\n  @inIndex:(a,i)     ->  Util.isArray(a) and 0 <= i and i < a.length\n  @inArray:(a,e)     ->  Util.isArray(a) and a.indexOf(e) > -1\n  @atLength:(a,n)    ->  Util.isArray(a) and a.length==n\n  @head:(a)          ->  if Util.isArray(a) then a[0]          else null\n  @tail:(a)          ->  if Util.isArray(a) then a[a.length-1] else null\n  @time:()           ->  new Date().getTime()\n  @isStrInteger:(s)  -> /^\\s*(\\+|-)?\\d+\\s*$/.test(s)\n  @isStrFloat:(s)    -> /^\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*$/.test(s)\n  @isStrCurrency:(s) -> /^\\s*(\\+|-)?((\\d+(\\.\\d\\d)?)|(\\.\\d\\d))\\s*$/.test(s)\n  #@isStrEmail:(s)   -> /^\\s*[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\@[\\w\\-\\+_]+\\.[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\s*$/.test(s)\n\n  @isDefs:() ->\n    for arg in arguments\n      if not arg?\n        return false\n    true\n\n  # Screen absolute (left top width height) percent positioning and scaling\n\n  # Percent array to position mapping\n  @toPosition:( array ) ->\n    { left:array[0], top:array[1], width:array[2], height:array[3] }\n\n  # Adds Percent from array for CSS position mapping\n  @toPositionPc:( array ) ->\n    { position:'absolute', left:array[0]+'%', top:array[1]+'%', width:array[2]+'%', height:array[3]+'%' }\n\n  @cssPosition:( $, screen, port, land ) ->\n    array = if screen.orientation is 'Portrait' then port else land\n    $.css( Util.toPositionPc(array) )\n    return\n\n  @xyScale:( prev, next, port, land ) ->\n    [xp,yp] = if prev.orientation is 'Portrait' then [port[2],port[3]] else [land[2],land[3]]\n    [xn,yn] = if next.orientation is 'Portrait' then [port[2],port[3]] else [land[2],land[3]]\n    xs = next.width  * xn  / ( prev.width  * xp )\n    ys = next.height * yn  / ( prev.height * yp )\n    [xs,ys]\n\n  # ----------------- Guarded jQuery dependent calls -----------------\n\n  @resize:( callback ) ->\n    window.onresize = () ->\n      setTimeout( callback, 100 )\n    return\n\n  @resizeTimeout:( callback, timeout = null ) ->\n    window.onresize = () ->\n      clearTimeout( timeout ) if timeout?\n      timeout = setTimeout( callback, 100 )\n    return\n\n  @isEmpty:( $elem ) ->\n    if Util.hasGlobal('$')\n      $elem.length == 0 || $elem.children().length == 0\n    else\n      false\n\n  @isJQuery:( $e ) ->\n    Util.isDef('$') and $e? and ( $e instanceof $ || 'jquery' in Object($e) ) and $e.length > 0\n\n  # ------ Converters ------\n\n  @extend:( obj, mixin ) ->\n    for own name, method of mixin\n      obj[name] = method\n    obj\n\n  @include:( klass, mixin ) ->\n    Util.extend( klass.prototype, mixin )\n\n  @eventErrorCode:( e ) ->\n    errorCode = if e.target? and e.target.errorCode then e.target.errorCode else 'unknown'\n    { errorCode:errorCode }\n\n  @indent:(n) ->\n    str = ''\n    for i in [0...n]\n      str += ' '\n    str\n\n  @hashCode:( str ) ->\n    hash = 0\n    for i in [0...str.length]\n      hash = (hash<<5) - hash + str.charCodeAt(i)\n    hash\n\n  @lastTok:( str, delim ) ->\n    str.split(delim).pop()\n\n  @firstTok:( str, delim ) ->\n    if Util.isStr(str) and str.split?\n      str.split(delim)[0]\n    else\n      console.error( \"Util.firstTok() str is not at string\", str )\n      ''\n  ###\n    parse = document.createElement('a')\n    parse.href =  \"http://example.com:3000/dir1/dir2/file.ext?search=test#hash\"\n    parse.protocol  \"http:\"\n    parse.hostname  \"example.com\"\n    parse.port      \"3000\"\n    parse.pathname  \"/dir1/dir2/file.ext\"\n    parse.segments  ['dir1','dir2','file.ext']\n    parse.filex     ['file','ext']\n    parse.file       'file'\n    parse.ext        'ext'\n    parse.search    \"?search=test\"\n    parse.hash      \"#hash\"\n    parse.host      \"example.com:3000\"\n  ###\n\n  @parseURI:( url ) ->\n    parse          = document.createElement('a')\n    parse.href     = url\n    parse.segments = parse.pathname.split('/')\n    parse.filex    = parse.segments.pop().split('.')\n    parse.file     = parse.filex[0]\n    parse.ext      = if parse.filex.length==2 then parse.filex[1] else ''\n    parse\n\n  @quicksort:( array ) ->\n    return [] if array.length == 0\n    head = array.pop()\n    small = ( a for a in array when a <= head )\n    large = ( a for a in array when a >  head )\n    (Util.quicksort(small)).concat([head]).concat( Util.quicksort(large) )\n\n  # Return and ISO formated data string\n  @isoDateTime:( date ) ->\n    console.log( 'Util.isoDatetime()', date )\n    console.log( 'Util.isoDatetime()', date.getUTCMonth(). date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes, date.getUTCSeconds )\n    pad = (n) -> if n < 10 then '0'+n else n\n    date.getFullYear()     +'-'+pad(date.getUTCMonth()+1)+'-'+pad(date.getUTCDate())+'T'+\n    pad(date.getUTCHours())+':'+pad(date.getUTCMinutes())+':'+pad(date.getUTCSeconds())+'Z'\n\n  @toHMS:( ) -> # unixTime \n    date = new Date() # if Util.isNum(unixTime) then new Date( unixTime * 1000 ) else new Date()\n    hour   = date.getHours()\n    ampm   = 'AM'\n    if hour > 12\n      hour = hour - 12\n      ampm = 'PM'\n    min  = ('0' + date.getMinutes()).slice(-2)\n    sec  = ('0' + date.getSeconds()).slice(-2)\n    time = \"#{hour}:#{min}:#{sec} #{ampm}\"\n    time\n\n  # Generate four random hex digits\n  @hex4:() ->\n    (((1+Math.random())*0x10000)|0).toString(16).substring(1)\n\n  # Generate a 32 bits hex\n  @hex32:() ->\n    hex = @hex4()\n    for i in [1..4]\n      Util.noop(i)\n      hex += @hex4()\n    hex\n\n  # Return a number with fixed decimal places\n  @toFixed:( arg, dec=2 ) ->\n    num = switch typeof(arg)\n      when 'number' then arg\n      when 'string' then parseFloat(arg)\n      else 0\n    num.toFixed(dec)\n\n  @toInt:( arg ) ->\n    switch typeof(arg)\n      when 'number' then Math.floor(arg)\n      when 'string' then  parseInt(arg)\n      else 0\n\n  @toFloat:( arg ) ->\n    switch typeof(arg)\n      when 'number' then arg\n      when 'string' then parseFloat(arg)\n      else 0\n\n  @toCap:( str ) ->\n    str.charAt(0).toUpperCase() + str.substring(1)\n\n  @unCap:( str ) ->\n    str.charAt(0).toLowerCase() + str.substring(1)\n\n  # Beautiful Code, Chapter 1.\n  # Implements a regular expression matcher that supports character matches,\n  # '.', '^', '$', and '*'.\n\n  # Search for the regexp anywhere in the text.\n  @match:(regexp, text) ->\n    return Util.match_here(regexp.slice(1), text) if regexp[0] is '^'\n    while text\n      return true if Util.match_here(regexp, text)\n      text = text.slice(1)\n    false\n\n  # Search for the regexp at the beginning of the text.\n  @match_here:(regexp, text) ->\n    [cur, next] = [regexp[0], regexp[1]]\n    if regexp.length is 0 then return true\n    if next is '*' then return Util.match_star(cur, regexp.slice(2), text)\n    if cur is '$' and not next then return text.length is 0\n    if text and (cur is '.' or cur is text[0]) then return Util.match_here(regexp.slice(1), text.slice(1))\n    false\n\n  # Search for a kleene star match at the beginning of the text.\n  @match_star:(c, regexp, text) ->\n    loop\n      return true if Util.match_here(regexp, text)\n      return false unless text and (text[0] is c or c is '.')\n      text = text.slice(1)\n\n  @match_test:() ->\n    console.log( Util.match_args(\"ex\", \"some text\") )\n    console.log( Util.match_args(\"s..t\", \"spit\") )\n    console.log( Util.match_args(\"^..t\", \"buttercup\") )\n    console.log( Util.match_args(\"i..$\", \"cherries\") )\n    console.log( Util.match_args(\"o*m\", \"vrooooommm!\") )\n    console.log( Util.match_args(\"^hel*o$\", \"hellllllo\") )\n\n  @match_args:( regexp, text ) ->\n    console.log( regexp, text, Util.match(regexp,text) )\n\n  @id:( name, type='', ext='' ) ->\n    htmlId = name + type + ext\n    console.error( 'Util.id() duplicate html id', htmlId ) if Util.htmlIds[htmlId]?\n    Util.htmlIds[htmlId] = htmlId\n    htmlId\n\n  @svgId:( name, type, svgType, check=false ) ->\n    if check then @id( name, type, svgType ) else name + type + svgType\n  @css:(   name, type=''       ) -> name + type\n  @icon:(  name, type, fa      ) -> name + type + ' fa fa-' + fa\n\n# Export Util as a convenience, since it is not really needed since Util is a global\n# Need to export at the end of the file.\n`export default Util`\n"
  ]
}