{
  "version": 3,
  "file": "App.js",
  "sourceRoot": "../../../src/exit/base",
  "sources": [
    "App.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport $             from 'jquery'\nimport Util          from '../util/Util.js'\nimport Stream        from '../util/Stream.js'\nimport Rest          from '../Rest.js'\nimport Data          from '../Data.js'           # Static class with no need to instaciate\nimport Model         from '../Model.js'\nimport Simulate      from '../Simulate.js'\nimport DestinationUI from '../ui/DestinationUI.js'\nimport GoUI          from '../ui/GoUI.js'\nimport TripUI        from '../ui/TripUI.js'\nimport DealsUI       from '../ui/DealsUI.js'\nimport NavigateUI    from '../ui/NavigateUI.js'\nimport UI            from '../ui/UI.js'\n\nclass App\n\n  # This kicks off everything\n  $(document).ready ->\n    Util.debug = true # Swithes  Util.dbg() debugging on or off\n    Util.init()\n    Util.app = new App( 'Local' ) # @dataSource = 'Rest', 'RestThenLocal', 'Local', 'LocalForecasts'\n\n  constructor:( @dataSource='RestThenLocal' ) ->\n\n    @subjects = ['Icons','Location','Screen','Source','Destination','Trip','Forecasts']\n\n    # Instantiate main App classes\n    logSpec     = { subscribe:false, publish:false, complete:false, subjects:@subjects }\n    @stream     = new Stream( @subjects, logSpec )\n    @rest       = new Rest(   @stream        )\n    @model      = new Model(  @stream, @rest, @dataSource )\n\n    @destinationUI = new DestinationUI(  @stream, @thresholdUC )\n    @goUI          = new GoUI(           @stream )\n    @tripUI        = new TripUI(         @stream )\n    @dealsUI       = new DealsUI(        @stream )\n    @navigateUI    = new NavigateUI(     @stream )\n    @ui            = new UI(             @stream, @destinationUI, @goUI, @tripUI, @dealsUI, @navigateUI )\n\n    @ready()\n    @position( @ui.toScreen('Portrait' ) )\n\n    # Run simulations and test if test modules presents\n    @simulate = new Simulate( @, @stream )\n\n    if Util.hasModule( 'app/App.Test',false)\n      $('body').css( { \"background-image\":\"none\" } )\n      $('#App').hide()\n      @appTest = new App.Test( @, @stream, @simulate, @rest, @model )\n\n    if Util.hasModule( 'ui/UI.Test',false)\n      @uiTest = new UI.Test( @ui, @trip, @destinationUI, @goUI, @tripUI, @navigateUI )\n\n    # Jumpstart App\n    # @stream.publish( 'Source',      'Denver' )\n    # @stream.publish( 'Destination', 'Vail'   )\n\n    Util.noop( Data, @appTest, @uiTest )\n\n  addToHead:() ->\n    # manifest = \"\"\"<link href=\"manifest.json\"  rel=\"manifest\" crossorigin=\"use-credentials\">\"\"\"\n    # siteLink = \"\"\"<link href=\"https://vit-muse.web.app/\" rel=\"canonical\">\"\"\"\n    maniElem                = document.createElement('link')\n    maniElem.href           = \"manifest.json\"\n    maniElem.rel            = \"manifest\"\n    maniElem['crossorigin'] = \"use-credentials\"\n    siteElem = document.createElement('link')\n    # console.log( 'Location', window.location.href )\n    siteElem.href        =   window.location.href # \"https://vit-muse.web.app/\" if window.location.contains('vit-muse')\n    siteElem.rel         = \"canonical\"\n    document.getElementsByTagName(\"head\")[0].appendChild(maniElem);\n    document.getElementsByTagName(\"head\")[0].appendChild(siteElem);\n    return\n\n\n  ready:() ->\n    @addToHead()\n    @model.ready()\n    @ui.ready()\n\n  position:( screen ) ->\n    @ui.position( screen )\n    \nexport default App\n"
  ]
}