{
  "version": 3,
  "file": "Animate.js",
  "sourceRoot": "../../../src/vizu/main",
  "sources": [
    "Animate.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport { MathUtils } from 'three'\n\nclass Animate\n\n  constructor:( @main ) ->\n    @klass       = @constructor.name\n    @opts        = @main.opts.animate\n    @cc          = @main.cartesian\n    @theta       = if @opts.rotate? and @opts.rotate.theta?  then @opts.rotate.theta  else 0\n    @radius      = if @opts.rotate? and @opts.rotate.radius? then @opts.rotate.radius else @cc.dist\n    @needsRender = true\n    @camControls = @main.cameras.controls\n    @camControls.addEventListener( 'change', () => @needsRender = true ) if @camControls?\n    @main.log( @klass+'()', @ )\n\n  # Call before animate to insure an initial rendering\n  render:() =>\n    if @needsRender # Significant step. Not called when scene is static\n      @main.render.renderer.render( @main.scene, @main.cameras.camera )\n      @needsRender = false\n    return\n\n  animate:() =>\n    @rotate()       if @opts.rotate?\n    @lightHelpers() if @needsRender and @main.lights.lightHelpers.length > 0\n    @controls()     if @needsRender and @camControls?\n    @doAnimations()\n    @render()\n    requestAnimationFrame( @animate )\n    return\n\n  doAnimations:() =>\n    if @main.hexagon? and @main.hexagon.obj.animateOn\n       timer = 0.0001 * Date.now()\n       @main.hexagon.animate( timer )\n    return\n\n  controls:() =>\n    @camControls.update() # if @camControls.enableDamping or @camControls.autoRotate\n    return\n\n  lightHelpers:() ->\n    for lightHelper in @main.lights.lightHelpers\n        lightHelper.update()\n    return\n\n  rotate:() =>\n    camera = @main.cameras.camera\n    @theta += 0.1\n    camera.position.x = @radius * Math.sin( MathUtils.degToRad( @theta ) )\n    camera.position.y = @radius * Math.sin( MathUtils.degToRad( @theta ) )\n    camera.position.z = @radius * Math.cos( MathUtils.degToRad( @theta ) )\n    camera.lookAt( @main.scene.position );\n    camera.updateMatrixWorld()\n    @needsRender = true\n    return\n\nexport default Animate"
  ]
}