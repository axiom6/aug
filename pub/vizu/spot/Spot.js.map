{
  "version": 3,
  "file": "Spot.js",
  "sourceRoot": "../../../src/vizu/spot",
  "sources": [
    "Spot.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nimport * as THREE        from 'three'\nimport { TWEEN }         from 'three/examples/jsm/libs/tween.module.min.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n\nclass Spot\n  \n  constructor:( @elem, @mix ) ->\n    @debug = true\n    @doSpot()\n    @init()\n    @render()\n    @animate()\n    \n  doSpot:() ->\n    \n    @renderer = new THREE.WebGLRenderer()\n    @renderer.setPixelRatio( window.devicePixelRatio )\n\n    @camera = new THREE.PerspectiveCamera( 35, window.innerWidth / window.innerHeight, 1, 2000 )\n\n    @controls = new OrbitControls( @camera, @renderer.domElement )\n\n    @scene = new THREE.Scene()\n\n    @matFloor = new THREE.MeshPhongMaterial()\n    @matBox   = new THREE.MeshPhongMaterial( { color: 0xaaaaaa } )\n\n    @geoFloor = new THREE.PlaneGeometry( 2000, 2000 )\n    @geoBox   = new THREE.BoxGeometry( 3, 1, 2  )\n\n    @mshFloor = new THREE.Mesh( @geoFloor, @matFloor )\n    @mshFloor.rotation.x = - Math.PI * 0.5\n    @mshBox  = new THREE.Mesh( @geoBox, @matBox )\n\n    @ambient = new THREE.AmbientLight( 0x111111 )\n\n    @spotLight1 = @createSpotlight( 0xFF7F00 )\n    @spotLight2 = @createSpotlight( 0x00FF7F )\n    @spotLight3 = @createSpotlight( 0x7F00FF )\n\n    return\n\n\n  init:() ->\n\n    @renderer.shadowMap.enabled = true\n    @renderer.shadowMap.type    = THREE.PCFSoftShadowMap\n    @renderer.outputEncoding    = THREE.sRGBEncoding\n\n    @camera.position.set( 46, 22, - 21 )\n\n    @spotLight1.position.set(  15, 40, 45 )\n    @spotLight2.position.set(   0, 40, 35 )\n    @spotLight3.position.set( -15, 40, 45 )\n\n    @lightHelper1 = new THREE.SpotLightHelper( @spotLight1 )\n    @lightHelper2 = new THREE.SpotLightHelper( @spotLight2 )\n    @lightHelper3 = new THREE.SpotLightHelper( @spotLight3 )\n\n    @matFloor.color.set( 0x808080 )\n\n    @mshFloor.receiveShadow = true\n    @mshFloor.position.set( 0, - 0.05, 0 )\n\n    @mshBox.castShadow = true\n    @mshBox.receiveShadow = true\n    @mshBox.position.set( 0, 5, 0 )\n\n    @addToScene( @mshFloor )\n    @addToScene( @mshBox )\n    @addToScene( @ambient )\n    @addToScene( @spotLight1,   @spotLight2,   @spotLight3   )\n    @addToScene( @lightHelper1, @lightHelper2, @lightHelper3 )\n\n    @elem.appendChild( @renderer.domElement )\n    @onWindowResize()\n    window.addEventListener( 'resize', @onWindowResize, false )\n\n    @controls.target.set( 0, 7, 0 )\n    @controls.maxPolarAngle = Math.PI / 2\n    @controls.update()\n\n    return\n\n  addToScene:( args... ) ->\n    for arg in args\n      console.log( arg ) if @debug\n      @scene.add( arg )\n    return\n\n  createSpotlight:( color ) ->\n    newObj = new THREE.SpotLight( color, 2 )\n    newObj.castShadow = true\n    newObj.angle = 0.3\n    newObj.penumbra = 0.2\n    newObj.decay = 2\n    newObj.distance = 50\n    newObj\n\n  dispose:() ->\n    # Third arg useCapture must match addEventLIstenter()\n    # window.removeEventListener( 'resize', @onWindowResize, false )\n    return\n\n  onWindowResize:() =>\n    @camera.aspect = window.innerWidth / window.innerHeight\n    @camera.updateProjectionMatrix()\n    @renderer.setSize( window.innerWidth, window.innerHeight )\n    return\n\n  animate:() =>\n    @tween( @spotLight1 )\n    @tween( @spotLight2 )\n    @tween( @spotLight3 )\n    setTimeout( @animate, 5000 )\n    return\n\n  render:() =>\n    TWEEN.update()\n    @lightHelper1.update() if @lightHelper1?\n    @lightHelper2.update() if @lightHelper2?\n    @lightHelper3.update() if @lightHelper3?\n    @renderer.render( @scene, @camera )\n    requestAnimationFrame( @render )\n    return\n\n  tween:( light ) =>\n\n    new TWEEN.Tween( light ).to( {\n        angle:  ( Math.random() * 0.7 ) + 0.1,\n        penumbra: Math.random() + 1 },\n        Math.random() * 3000 + 2000 ).easing( TWEEN.Easing.Quadratic.Out ).start()\n\n    new TWEEN.Tween( light.position ).to( {\n        x: ( Math.random() * 30 ) - 15,\n        y: ( Math.random() * 10 ) + 15,\n        z: ( Math.random() * 30 ) - 15 },\n        Math.random() * 3000 + 2000 ).easing( TWEEN.Easing.Quadratic.Out ).start()\n\n    return\n\n\nexport default Spot"
  ]
}