{
  "version": 3,
  "file": "Rect3D.js",
  "sourceRoot": "../../../src/vizu/muse",
  "sources": [
    "Rect3D.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import Util       from '../../../lib/pub/util/Util.js'\nimport {vis}       from '../../../lib/pub/draw/Vis.js'\nimport { PlaneGeometry, Color, MeshBasicMaterial, Mesh, TextBufferGeometry, Matrix4, DoubleSide } from 'three'\n\nclass Rect3D\n\n  constructor:( @plane, @row, @col, @title, @xyz, @wh, @hsv, @opacity, @font, @fontColor ) ->\n    rec = new PlaneGeometry( @wh[0], @wh[1] )\n    rec.translate(      @xyz[0], @xyz[1], @xyz[2] )\n\n    hex  = vis.hex( @hsv, 'ysv' )\n    col   = new Color( hex )\n    mat   = new MeshBasicMaterial( { color:col, opacity:@opacity, transparent:true, side:DoubleSide } )\n    @mesh = new Mesh( rec, mat )\n    @mesh.name  = @title\n    @mesh.geom  = \"Rect\"\n    @mesh.plane = @plane\n    @mesh.row   = @row\n    @mesh.col   = @col\n\n    obj  = { font:@font, size:10, height:5, curveSegments:2 }\n    text = new TextBufferGeometry( @title, obj )\n    text.computeBoundingBox()\n    face = new MeshBasicMaterial( { color: @fontColor } )\n    side = new MeshBasicMaterial( { color: @fontColor } )\n\n    mats = [face,side]\n    offsetY = not Util.inString( @title, '\\n' )\n    dx   = 0.5 * ( text.boundingBox.max.x - text.boundingBox.min.x )\n    dy   = if offsetY then 0.5 * ( text.boundingBox.max.y - text.boundingBox.min.y ) else 0\n    Rect3D.matrix.makeTranslation( @xyz[0]-dx, @xyz[1]-dy, @xyz[2]   )\n    text.applyMatrix4( Rect3D.matrix )\n    @tmesh       = new Mesh( text, mats )\n    @tmesh.name  = @title\n    @tmesh.geom  = \"Text\"\n    @tmesh.plane = @plane\n    @tmesh.row   = @row\n    @tmesh.col   = @col\n    @mesh.add( @tmesh )\n\nRect3D.matrix = new Matrix4()\n\nexport default Rect3D"
  ]
}