{
  "version": 3,
  "file": "Cube3D.js",
  "sourceRoot": "../../../src/vizu/muse",
  "sources": [
    "Cube3D.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\nimport {vis}       from '../../../lib/pub/draw/Vis.js'\nimport { BoxBufferGeometry, Color, MeshPhongMaterial, Mesh, TextBufferGeometry,\n         MeshBasicMaterial, Matrix4, BackSide } from 'three'\n\nclass Cube3D\n\n  constructor:( @plane, @row, @col, @title, @xyz, @whd, @hsv, @opacity, @font ) ->\n    box = new BoxBufferGeometry()\n    box.name = @title\n    Cube3D.matrix.makeScale(       @whd[0], @whd[1], @whd[2] )\n    box.applyMatrix4( Cube3D.matrix )\n    Cube3D.matrix.makeTranslation( @xyz[0], @xyz[1], @xyz[2] )\n    box.applyMatrix4( Cube3D.matrix )\n    hex = vis.hex(  @hsv, 'ysv' )\n    col = new Color( hex )                   # blemding:THREE\n    mat = new MeshPhongMaterial( { color:col, opacity:@opacity, transparent:true, side:BackSide } )\n    @mesh = new Mesh( box, mat )\n    @mesh.name  = @title\n    @mesh.geom  = \"Cube\"\n    @mesh.plane = @plane\n    @mesh.row   = @row\n    @mesh.col   = @col\n\n    obj  = { font:@font, size:12, height:6, curveSegments:2 }\n    name = if @plane is 'Cols' then \"\" else @title\n    text = new TextBufferGeometry( name, obj )\n    text.computeBoundingBox()\n    face = new MeshBasicMaterial( { color: 0xffffff } )\n    side = new MeshBasicMaterial( { color: 0xffffff } )\n\n    mats = [face,side]\n    dx   = 0.5 * ( text.boundingBox.max.x - text.boundingBox.min.x )\n    dy   = 0.5 * ( text.boundingBox.max.y - text.boundingBox.min.y )\n    Cube3D.matrix.makeTranslation( @xyz[0]-dx, @xyz[1]-dy, @xyz[2]   )\n    text.applyMatrix4( Cube3D.matrix )\n    @tmesh       = new Mesh( text, mats )\n    @tmesh.name  = @title\n    @tmesh.geom  = \"Text\"\n    @tmesh.plane = @plane\n    @tmesh.row   = @row\n    @tmesh.col   = @col\n    @mesh.add( @tmesh )\n\n\n#mat = new MeshPhongMaterial( { color:col, opacity:@opacity, transparent:true, side:BackSide, blemding:AdditiveBlending } )\n#mat = new MeshBasicMaterial( { color:col, opacity:@opacity, transparent:true } ) # blemding:AdditiveBlending\n\nCube3D.matrix = new Matrix4()\n\nexport default Cube3D\n"
  ]
}